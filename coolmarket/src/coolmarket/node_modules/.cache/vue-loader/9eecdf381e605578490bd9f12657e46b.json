{"remainingRequest":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/src/views/MyPage.vue?vue&type=style&index=0&id=21de5130&scoped=true&lang=css&","dependencies":[{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/src/views/MyPage.vue","mtime":1630220955046},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/css-loader/dist/cjs.js","mtime":1630156407336},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1630156405048},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/postcss-loader/src/index.js","mtime":1630156406015},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/cache-loader/dist/cjs.js","mtime":1630156407770},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/vue-loader/lib/index.js","mtime":1630156405048}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmN1cnNvciB7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cg=="},{"version":3,"sources":["MyPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+bA;AACA;AACA","file":"MyPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"border bg-light py-4\">\n      <h3 class=\"text-center\">개인정보</h3>\n      <b-row>\n        <b-col md=\"6\" class=\"mx-auto\">\n          <p>이름 : {{ user.name }}</p>\n          <p>별명 : {{ user.nickName }}</p>\n          <p>등급 : {{ rank }}</p>\n          <p>연락처 : {{ user.tel }}</p>\n          <p>주소 : {{ user.addr1 }} {{ user.addr2 }} {{ user.addr3 }}</p>\n          <div>\n            <b-button-group class=\"d-flex\">\n              <b-button v-on:click=\"premium\" pill variant=\"success\" class=\"mx-1\"\n                >프리미엄 신청</b-button\n              ><b-button v-on:click=\"msg\" pill variant=\"info\" class=\"mx-1\"\n                >쪽지함</b-button\n              ><b-button v-on:click=\"logOut\" pill variant=\"warning\" class=\"mx-1\"\n                >로그아웃</b-button\n              >\n            </b-button-group>\n          </div>\n        </b-col>\n      </b-row>\n    </div>\n    <div class=\"mt-3\">\n      <b-tabs content-class=\"mt-3\" fill>\n        <!-- 판매목록 -->\n        <b-tab title=\"판매목록\" active>\n          <div class=\"mt-5\">\n            <div>\n              <div>\n                <h3 class=\"text-center\" v-if=\"saleList == ''\">\n                  등록하신 목록 없습니다.\n                </h3>\n              </div>\n              <div v-if=\"saleList != ''\">\n                <b-row>\n                  <b-col\n                    sm=\"4\"\n                    class=\"mx-auto\"\n                    v-for=\"item in saleList\"\n                    :key=\"item.marNo\"\n                    v-on:click=\"MarketDetail(item.marNo)\"\n                  >\n                    <b-card\n                      :img-src=\"imgPath(item.imgList)\"\n                      img-alt=\"Image\"\n                      img-top\n                      class=\"me-2 border-0 cursor\"\n                      img-height=\"250\"\n                    >\n                      <b-card-text>\n                        <p>{{ item.marTitle }}</p>\n                        <p>{{ won(item.marPrice) }} 원</p>\n                        <p>\n                          {{ item.marAddr1 }}{{ item.marAddr2\n                          }}{{ item.marAddr3 }}\n                        </p>\n                        <p>\n                          <span>\n                            <fai :icon=\"['fas', 'heart']\"></fai>\n                          </span>\n                          {{ item.marLike }}\n                          <span>\n                            <fai :icon=\"['fas', 'comment']\"></fai>\n                          </span>\n                          {{ item.marTalkCnt }}\n                        </p>\n                      </b-card-text>\n                    </b-card>\n                  </b-col>\n                </b-row>\n              </div>\n            </div>\n          </div>\n        </b-tab>\n\n        <!-- 구매목록 -->\n        <b-tab title=\"구매목록\">\n          <div class=\"mt-5\">\n            <div>\n              <div>\n                <h3 class=\"text-center\" v-if=\"buyList == ''\">\n                  구매하신 목록 없습니다.\n                </h3>\n              </div>\n              <div v-if=\"buyList != ''\">\n                <b-row>\n                  <b-col\n                    sm=\"4\"\n                    class=\"mx-auto\"\n                    v-for=\"item in buyList\"\n                    :key=\"item.marNo\"\n                    v-on:click=\"MarketDetail(item.marNo)\"\n                  >\n                    <b-card\n                      :img-src=\"imgPath(item.imgList)\"\n                      img-alt=\"Image\"\n                      img-top\n                      class=\"me-2 border-0 cursor\"\n                      img-height=\"250\"\n                    >\n                      <b-card-text>\n                        <p>{{ item.marTitle }}</p>\n                        <p>{{ won(item.marPrice) }} 원</p>\n                        <p>\n                          {{ item.marAddr1 }}{{ item.marAddr2\n                          }}{{ item.marAddr3 }}\n                        </p>\n                        <p>\n                          <span>\n                            <fai :icon=\"['fas', 'heart']\"></fai>\n                          </span>\n                          {{ item.marLike }}\n                          <span>\n                            <fai :icon=\"['fas', 'comment']\"></fai>\n                          </span>\n                          {{ item.marTalkCnt }}\n                        </p>\n                      </b-card-text>\n                    </b-card>\n                  </b-col>\n                </b-row>\n              </div>\n            </div>\n          </div>\n        </b-tab>\n\n        <!-- 찜 목록 -->\n        <b-tab title=\"찜 목록\">\n          <div class=\"mt-5\">\n            <div v-if=\"wishList == ''\">\n              <h3 class=\"text-center\">찜 목록이 없습니다.</h3>\n            </div>\n            <div v-if=\"wishList != ''\">\n              <b-row>\n                <b-col\n                  sm=\"4\"\n                  class=\"mx-auto\"\n                  v-for=\"item in wishList\"\n                  :key=\"item.marNo\"\n                  v-on:click=\"MarketDetail(item.marNo)\"\n                >\n                  <b-card\n                    :img-src=\"imgPath(item.imgList)\"\n                    img-alt=\"Image\"\n                    img-top\n                    class=\"me-2 border-0 cursor\"\n                    img-height=\"250\"\n                  >\n                    <b-card-text>\n                      <p>{{ item.marTitle }}</p>\n                      <p>{{ won(item.marPrice) }} 원</p>\n                      <p>\n                        {{ item.marAddr1 }}{{ item.marAddr2\n                        }}{{ item.marAddr3 }}\n                      </p>\n                      <p>\n                        <span>\n                          <fai :icon=\"['fas', 'heart']\"></fai>\n                        </span>\n                        {{ item.marLike }}\n                        <span>\n                          <fai :icon=\"['fas', 'comment']\"></fai>\n                        </span>\n                        {{ item.marTalkCnt }}\n                      </p>\n                    </b-card-text>\n                  </b-card>\n                </b-col>\n              </b-row>\n            </div>\n          </div>\n        </b-tab>\n\n        <!-- 커뮤니티 등록 목록 -->\n        <b-tab title=\"커뮤니티 등록 목록\">\n          <div class=\"mt-5\">\n            <div>\n              <h3 class=\"text-center\" v-if=\"commuList == ''\">\n                등록하신 글이 없습니다.\n              </h3>\n            </div>\n            <div v-if=\"commuList != ''\">\n              <div\n                class=\"board-card\"\n                v-for=\"item in commuList\"\n                :key=\"item.comNo\"\n                v-on:click=\"CommuDetail(item.comNo)\"\n              >\n                <b-card\n                  :img-src=\"imgPath(item.imgList)\"\n                  img-alt=\"Card image\"\n                  img-right\n                  img-height=\"150px\"\n                  class=\"m-2 bg-light cursor\"\n                >\n                  <b-card-text>\n                    <p class=\"badge rounded-pill bg-secondary\">\n                      {{ item.comCate }}\n                    </p>\n                    <h4>{{ item.comTitle }}</h4>\n                    <p>\n                      {{ item.comCreaNickName }}\n                      <span> | </span>\n                      {{ item.comAddr1 }}\n                      {{ item.comAddr2 }}\n                      {{ item.comAddr3 }}\n                      <span> | </span>\n                      {{ item.comCreaDt }}\n                    </p>\n                  </b-card-text>\n                </b-card>\n              </div>\n\n              <div class=\"d-flex justify-content-center\">\n                <nav aria-label=\"Page navigation example\">\n                  <ul class=\"pagination\">\n                    <li class=\"page-item\">\n                      <a\n                        class=\"page-link\"\n                        aria-label=\"Previous\"\n                        v-on:click=\"previous\"\n                      >\n                        <span aria-hidden=\"true\">&laquo;</span>\n                      </a>\n                    </li>\n                    <li\n                      class=\"page-item\"\n                      v-for=\"page in commuNav.navigatepageNums\"\n                      :key=\"page\"\n                    >\n                      <a\n                        class=\"page-link\"\n                        v-on:click=\"movePage(page)\"\n                        v-text=\"page\"\n                      ></a>\n                    </li>\n                    <li class=\"page-item\">\n                      <a class=\"page-link\" aria-label=\"Next\" v-on:click=\"next\">\n                        <span aria-hidden=\"true\">&raquo;</span>\n                      </a>\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </b-tab>\n      </b-tabs>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      user: [],\n      rank: \"\",\n      saleList: [],\n      buyList: [],\n      wishList: [],\n      commuList: [],\n      commuNav: [],\n    };\n  },\n  beforeCreate() {\n    if (this.$session.get(\"coolUserNo\") == null) {\n      this.$router.push(\"/Login\");\n    } else if (this.$session.get(\"coolRank\") == 0) {\n      this.$router.push(\"ManagerPage\");\n    }\n  },\n  mounted() {\n    this.$axios\n      .get(\"http://localhost:9000/myList\", {\n        params: { userNo: this.$session.get(\"coolUserNo\") },\n      })\n      .then((res) => {\n        this.saleList = res.data.saleList;\n        this.buyList = res.data.buyList;\n        this.wishList = res.data.wishList;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    this.$axios\n      .get(\"http://localhost:9000/myCommuList\", {\n        params: {\n          userNo: this.$session.get(\"coolUserNo\"),\n        },\n      })\n      .then((res) => {\n        this.commuList = res.data.list;\n        this.commuNav = {\n          navigatepageNums: res.data.navigatepageNums,\n          prePage: res.data.prePage,\n          nextPage: res.data.nextPage,\n        };\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    this.$axios\n      .get(\"http://localhost:9000/me\", {\n        params: {\n          userNo: this.$session.get(\"coolUserNo\"),\n        },\n      })\n      .then((res) => {\n        this.user = res.data;\n        if (this.user.rank == 1) {\n          this.rank = \"일반\";\n        } else if (this.user.rank == 2) {\n          this.rank = \"프리미엄\";\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  },\n  methods: {\n    premium() {\n      let rank = this.rank;\n      if (rank == 2) {\n        alert(\"이미 프리미엄 회원이십니다.\");\n      } else {\n        this.$axios\n          .get(\"http://localhost:9000/creaPremium\", {\n            params: { userNo: this.$session.get(\"coolUserNo\") },\n          })\n          .then((res) => {\n            if (res.data == true) {\n              alert(\"프리미엄 신청 완료 \\n 24시간 안에 적용 됩니다.\");\n            } else {\n              alert(\"이미 신청하였습니다.\");\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n    msg() {\n      this.$router.push({\n        name: \"MsgList\",\n        query: { userNo: this.$session.get(\"coolUserNo\") },\n      });\n    },\n    logOut() {\n      this.$session.clear();\n      alert(\"로그아웃 되었습니다.\");\n      this.$router.push(\"/\");\n    },\n    movePage(num) {\n      this.$axios\n        .get(\"http://localhost:9000/myCommuList\", {\n          params: {\n            userNo: this.$session.get(\"coolUserNo\"),\n            pageNo: num,\n          },\n        })\n        .then((res) => {\n          this.commuList = res.data.list;\n          this.commuNav = {\n            navigatepageNums: res.data.navigatepageNums,\n            prePage: res.data.prePage,\n            nextPage: res.data.nextPage,\n          };\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    previous() {\n      if (this.commuNav.prePage == 0) {\n        alert(\"첫번째 페이지 입니다.\");\n      } else {\n        this.$axios\n          .get(\"http://localhost:9000/myCommuList\", {\n            params: {\n              userNo: this.$session.get(\"coolUserNo\"),\n              pageNo: this.commuNav.prePage,\n            },\n          })\n          .then((res) => {\n            this.commuList = res.data.list;\n            this.commuNav = {\n              navigatepageNums: res.data.navigatepageNums,\n              prePage: res.data.prePage,\n              nextPage: res.data.nextPage,\n            };\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n    next() {\n      if (this.commuNav.nextPage == 0) {\n        alert(\"마지막 페이지 입니다.\");\n      } else {\n        this.$axios\n          .get(\"http://localhost:9000/myCommuList\", {\n            params: {\n              userNo: this.$session.get(\"coolUserNo\"),\n              pageNo: this.commuNav.nextPage,\n            },\n          })\n          .then((res) => {\n            this.commuList = res.data.list;\n            this.commuNav = {\n              navigatepageNums: res.data.navigatepageNums,\n              prePage: res.data.prePage,\n              nextPage: res.data.nextPage,\n            };\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n    CommuDetail(num) {\n      this.$router.push({ name: \"CommuDetail\", query: { comNo: num } });\n    },\n    MarketDetail(num) {\n      this.$router.push({ name: \"MarketDetail\", query: { marNo: num } });\n    },\n    won(num) {\n      if (num != null) {\n        return num.replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n      }\n    },\n    imgPath(src) {\n      if (src == \"\") {\n        return \"images/noImg.png\";\n      } else {\n        return src[0].storedImgPath;\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.cursor {\n  cursor: pointer;\n}\n</style>"]}]}