{"remainingRequest":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/src/views/ManagerPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/src/views/ManagerPage.vue","mtime":1630232414564},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jb/javabtc/coolmarket/coolmarket/src/coolmarket/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFyRGVjOiBbXSwKICAgICAgY29tRGVjOiBbXSwKICAgICAgcHJlbWl1bVdhaXQ6IFtdLAogICAgICBwcmVtaXVtVXNlcjogW10sCiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlKCkgewogICAgaWYgKHRoaXMuJHNlc3Npb24uZ2V0KCJjb29sVXNlck5vIikgPT0gbnVsbCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL0xvZ2luIik7CiAgICB9IGVsc2UgaWYgKHRoaXMuJHNlc3Npb24uZ2V0KCJjb29sUmFuayIpICE9IDApIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIk15UGFnZSIpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJGF4aW9zCiAgICAgIC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMC9tYW5hZ2VyRGF0YUxpc3QiKQogICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5tYXJEZWMgPSByZXMuZGF0YS5tYXJEZWM7CiAgICAgICAgdGhpcy5jb21EZWMgPSByZXMuZGF0YS5jb21EZWM7CiAgICAgICAgdGhpcy5wcmVtaXVtV2FpdCA9IHJlcy5kYXRhLnByZW1pdW1XYWl0OwogICAgICAgIHRoaXMucHJlbWl1bVVzZXIgPSByZXMuZGF0YS5wcmVtaXVtVXNlcjsKICAgICAgfSkKICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ091dCgpIHsKICAgICAgdGhpcy4kc2Vzc2lvbi5jbGVhcigpOwogICAgICBhbGVydCgi66Gc6re47JWE7JuDIOuQmOyXiOyKteuLiOuLpC4iKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0sCiAgICBDb21tdURldGFpbChudW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiQ29tbXVEZXRhaWwiLCBxdWVyeTogeyBjb21ObzogbnVtIH0gfSk7CiAgICB9LAogICAgTWFya2V0RGV0YWlsKG51bSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJNYXJrZXREZXRhaWwiLCBxdWVyeTogeyBtYXJObzogbnVtIH0gfSk7CiAgICB9LAogICAgbWFyQWxsRGVsKCkgewogICAgICB0aGlzLiRheGlvcwogICAgICAgIC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMC9tYXJBbGxEZWwiKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGFsZXJ0KCLsgq3soJwg7JmE66OMIik7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNvbUFsbERlbCgpIHsKICAgICAgdGhpcy4kYXhpb3MKICAgICAgICAuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjkwMDAvY29tQWxsRGVsIikKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBhbGVydCgi7IKt7KCcIOyZhOujjCIpOwogICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBwcmVBbGxVcCgpIHsKICAgICAgbGV0IHVzZXJOb0xpc3QgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnByZW1pdW1XYWl0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdXNlck5vTGlzdC5wdXNoKHRoaXMucHJlbWl1bVdhaXRbaV0udXNlck5vKTsKICAgICAgfQogICAgICB0aGlzLiRheGlvcwogICAgICAgIC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6OTAwMC9wcmVBbGxVcCIsIHsKICAgICAgICAgIHBhcmFtczogeyB1c2VyTm9MaXN0OiB1c2VyTm9MaXN0IH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBhbGVydCgi7J286rSE65Ox7JeFIOyZhOujjCIpOwogICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBwcmVVcChudW0pIHsKICAgICAgdGhpcy4kYXhpb3MKICAgICAgICAuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjkwMDAvcHJlVXAiLCB7IHBhcmFtczogeyB1c2VyTm86IG51bSB9IH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgYWxlcnQoIuuTseyXhSDsmYTro4wiKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICB9LAogICAgd29uKG51bSkgewogICAgICBpZiAobnVtICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gbnVtLnJlcGxhY2UoL1xCKD88IVwuXGQqKSg/PShcZHszfSkrKD8hXGQpKS9nLCAiLCIpOwogICAgICB9CiAgICB9LAogICAgcGF0aChzdHIpIHsKICAgICAgcmV0dXJuICIuLi8uLi8uLi8uLi8iICsgc3RyOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ManagerPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ManagerPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"my-3 d-flex justify-content-end\">\n      <b-button >로그아웃</b-button>\n    </div>\n    <b-tabs content-class=\"mt-3\" fill>\n      <b-tab title=\"마켓 신고\" active>\n        <div class=\"mt-5\">\n          <div class=\"d-flex justify-content-end m-2\">\n            <b-button variant=\"danger\" v-on:click=\"marAllDel\"\n              >일괄삭제</b-button\n            >\n          </div>\n          <div v-if=\"marDec == ''\">\n            <h3 class=\"text-center\">신고된 게시물이 없습니다.</h3>\n          </div>\n          <div v-if=\"marDec != ''\">\n            <b-row>\n              <b-col\n                sm=\"4\"\n                class=\"mx-auto\"\n                v-for=\"item in marDec\"\n                :key=\"item.marNo\"\n                v-on:click=\"MarketDetail(item.marNo)\"\n              >\n                <b-card\n                  v-if=\"item.imgList != ''\"\n                  :img-src=\"item.imgList[0].storedImgPath\"\n                  img-alt=\"Image\"\n                  img-top\n                  class=\"me-2 border-0 cursor\"\n                  img-height=\"250\"\n                >\n                  <b-card-text>\n                    <p>{{ item.marTitle }}</p>\n                    <p>{{ won(item.marPrice) }} 원</p>\n                    <p>\n                      {{ item.marAddr1 }}{{ item.marAddr2 }}{{ item.marAddr3 }}\n                    </p>\n                    <p>\n                      <span>\n                        <fai :icon=\"['fas', 'heart']\"></fai>\n                      </span>\n                      {{ item.marLike }}\n                      <span>\n                        <fai :icon=\"['fas', 'comment']\"></fai>\n                      </span>\n                      {{ item.marTalkCnt }}\n                    </p>\n                  </b-card-text>\n                </b-card>\n\n                <b-card\n                  v-if=\"item.imgList == ''\"\n                  img-src=\"https://placekitten.com/g/300/450\"\n                  img-alt=\"Image\"\n                  img-top\n                  class=\"me-2 border-0 cursor\"\n                  img-height=\"250\"\n                >\n                  <b-card-text>\n                    <p>{{ item.marTitle }}</p>\n                    <p>{{ won(item.marPrice) }} 원</p>\n                    <p>\n                      {{ item.marAddr1 }}{{ item.marAddr2 }}{{ item.marAddr3 }}\n                    </p>\n                    <p>\n                      <span>\n                        <fai :icon=\"['fas', 'heart']\"></fai>\n                      </span>\n                      {{ item.marLike }}\n                      <span>\n                        <fai :icon=\"['fas', 'comment']\"></fai>\n                      </span>\n                      {{ item.marTalkCnt }}\n                    </p>\n                  </b-card-text>\n                </b-card>\n              </b-col>\n            </b-row>\n          </div>\n        </div>\n      </b-tab>\n\n      <b-tab title=\"커뮤니티 신고\">\n        <div class=\"mt-5\">\n          <div class=\"d-flex justify-content-end m-2\">\n            <b-button variant=\"danger\" v-on:click=\"comAllDel\"\n              >일괄삭제</b-button\n            >\n          </div>\n          <div v-if=\"comDec == ''\">\n            <h3 class=\"text-center\">신고된 게시물이 없습니다.</h3>\n          </div>\n          <div v-if=\"comDec != ''\">\n            <div\n              class=\"board-card\"\n              v-for=\"item in comDec\"\n              :key=\"item.comNo\"\n              v-on:click=\"CommuDetail(item.comNo)\"\n            >\n              <b-card\n                v-if=\"item.imgList != ''\"\n                :img-src=\"item.imgList[0].storedImgPath\"\n                img-alt=\"Card image\"\n                img-right\n                img-height=\"150px\"\n                class=\"m-2 bg-light cursor\"\n              >\n                <b-card-text>\n                  <p class=\"badge rounded-pill bg-secondary\">\n                    {{ item.comCate }}\n                  </p>\n                  <h4>{{ item.comTitle }}</h4>\n                  <p>\n                    {{ item.comCreaNickName }}\n                    <span> | </span>\n                    {{ item.comAddr1 }}\n                    {{ item.comAddr2 }}\n                    {{ item.comAddr3 }}\n                    <span> | </span>\n                    {{ item.comCreaDt }}\n                  </p>\n                </b-card-text>\n              </b-card>\n\n              <b-card\n                v-if=\"item.imgList == ''\"\n                img-src=\"https://placekitten.com/300/300\"\n                img-alt=\"Card image\"\n                img-right\n                img-height=\"150px\"\n                class=\"m-2 bg-light cursor\"\n              >\n                <b-card-text>\n                  <p class=\"badge rounded-pill bg-secondary\">\n                    {{ item.comCate }}\n                  </p>\n                  <h4>{{ item.comTitle }}</h4>\n                  <p>\n                    {{ item.comCreaNickName }}\n                    <span> | </span>\n                    {{ item.comAddr1 }}\n                    {{ item.comAddr2 }}\n                    {{ item.comAddr3 }}\n                    <span> | </span>\n                    {{ item.comCreaDt }}\n                  </p>\n                </b-card-text>\n              </b-card>\n            </div>\n          </div>\n        </div>\n      </b-tab>\n\n      <b-tab title=\"프리미엄 신청자\">\n        <div class=\"mt-5\">\n          <div class=\"d-flex justify-content-end m-2\">\n            <b-button variant=\"info\" v-on:click=\"preAllUp\">일괄등업</b-button>\n          </div>\n          <div\n            class=\"border p-3 m-2 rounded\"\n            v-for=\"item in premiumWait\"\n            :key=\"item.userNo\"\n          >\n            <b-button\n              variant=\"primary\"\n              class=\"float-end\"\n              v-on:click=\"preUp(item.userNo)\"\n              >등업</b-button\n            >\n            <p>이메일 : {{ item.email }}</p>\n            <p>신청날짜 : {{ item.creaDt }}</p>\n            <p>이름 : {{ item.name }}</p>\n            <p>별명 : {{ item.nickName }}</p>\n          </div>\n        </div>\n      </b-tab>\n\n      <b-tab title=\"프리미엄 회원\">\n        <div class=\"mt-5\">\n          <table class=\"table table-hover\">\n            <colgroup>\n              <col width=\"10%\" />\n              <col width=\"25%\" />\n              <col width=\"15%\" />\n              <col width=\"15%\" />\n              <col width=\"*\" />\n            </colgroup>\n            <thead>\n              <tr>\n                <th span=\"col\">No</th>\n                <th span=\"col\">이메일</th>\n                <th span=\"col\">이름</th>\n                <th span=\"col\">별명</th>\n                <th span=\"col\">유지기간</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-if=\"premiumUser == ''\">\n                <td colspan=\"5\" class=\"text-center\">\n                  프리미엄 회원이 없습니다.\n                </td>\n              </tr>\n              <tr v-for=\"item in premiumUser\" :key=\"item.userNo\">\n                <td>{{ item.userNo }}</td>\n                <td>{{ item.email }}</td>\n                <td>{{ item.name }}</td>\n                <td>{{ item.nickName }}</td>\n                <td>{{ item.preDt }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </b-tab>\n    </b-tabs>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      marDec: [],\n      comDec: [],\n      premiumWait: [],\n      premiumUser: [],\n    };\n  },\n  beforeCreate() {\n    if (this.$session.get(\"coolUserNo\") == null) {\n      this.$router.push(\"/Login\");\n    } else if (this.$session.get(\"coolRank\") != 0) {\n      this.$router.push(\"MyPage\");\n    }\n  },\n  mounted() {\n    this.$axios\n      .get(\"http://localhost:9000/managerDataList\")\n      .then((res) => {\n        this.marDec = res.data.marDec;\n        this.comDec = res.data.comDec;\n        this.premiumWait = res.data.premiumWait;\n        this.premiumUser = res.data.premiumUser;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  },\n  methods: {\n    logOut() {\n      this.$session.clear();\n      alert(\"로그아웃 되었습니다.\");\n      this.$router.push(\"/\");\n    },\n    CommuDetail(num) {\n      this.$router.push({ name: \"CommuDetail\", query: { comNo: num } });\n    },\n    MarketDetail(num) {\n      this.$router.push({ name: \"MarketDetail\", query: { marNo: num } });\n    },\n    marAllDel() {\n      this.$axios\n        .get(\"http://localhost:9000/marAllDel\")\n        .then(() => {\n          alert(\"삭제 완료\");\n          this.$router.go();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    comAllDel() {\n      this.$axios\n        .get(\"http://localhost:9000/comAllDel\")\n        .then(() => {\n          alert(\"삭제 완료\");\n          this.$router.go();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    preAllUp() {\n      let userNoList = [];\n      for (let i = 0; i < this.premiumWait.length; i++) {\n        userNoList.push(this.premiumWait[i].userNo);\n      }\n      this.$axios\n        .get(\"http://localhost:9000/preAllUp\", {\n          params: { userNoList: userNoList },\n        })\n        .then(() => {\n          alert(\"일괄등업 완료\");\n          this.$router.go();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    preUp(num) {\n      this.$axios\n        .get(\"http://localhost:9000/preUp\", { params: { userNo: num } })\n        .then(() => {\n          alert(\"등업 완료\");\n          this.$router.go();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    won(num) {\n      if (num != null) {\n        return num.replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n      }\n    },\n    path(str) {\n      return \"../../../../\" + str;\n    },\n  },\n};\n</script>\n<style scoped>\n.cursor {\n  cursor: pointer;\n}\n</style>"]}]}